"use strict";(self.webpackChunkplone_mosaic=self.webpackChunkplone_mosaic||[]).push([[41973],{41973:function(e,n,i){i.r(n),i.d(n,{default:function(){return s}});var t=i(99269),o=i.n(t),a=i(81142);function r(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return l(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return l(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var t=0,o=function(){};return{s:o,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,d=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){d=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(d)throw a}}}}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}function d(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var s=function(){function e(n,i){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=n,this.panels=i}var n,i,t;return n=e,(i=[{key:"initialize",value:function(){var e=".mosaic-original-content";document.querySelector(e).style.display="none",this.modal=new a.Z(document.querySelector("body > .outer-wrapper"),{title:document.querySelector("h1").innerText,target:e,content:"#form",modalSizeClass:"modal-xl"})}},{key:"open",value:function(e,n){var i,t,a,l,d=this;if(d.modal.show(),"all"===e&&d.options.overlay_hide_fields){(i=d.modal.$modal.find("nav")).removeClass("mosaic-hidden"),d.modal.$modal.find("fieldset").children().removeClass("mosaic-hidden"),d.modal.$modal.find("fieldset").removeClass("active"),i.find("a").removeClass("active"),d.modal.$modal.find(d.options.customContentLayout_selector).addClass("mosaic-hidden"),d.modal.$modal.find(d.options.contentLayout_selector).addClass("mosaic-hidden"),o()(".mosaic-IDublinCore-title-tile").length>0?d.modal.$modal.find("#formfield-form-widgets-IDublinCore-title").addClass("mosaic-hidden"):d.modal.$modal.find("#formfield-form-widgets-IDublinCore-title").removeClass("mosaic-hidden"),o()(".mosaic-IDublinCore-description-tile").length>0?d.modal.$modal.find("#formfield-form-widgets-IDublinCore-description").addClass("mosaic-hidden"):d.modal.$modal.find("#formfield-form-widgets-IDublinCore-description").removeClass("mosaic-hidden");var s,f={},c=r(d.options.tiles);try{for(c.s();!(s=c.n()).done;){var m=s.value;if("fields"===m.name){f=m;break}}}catch(e){c.e(e)}finally{c.f()}var u,h=r(f.tiles);try{for(h.s();!(u=h.n()).done;){var v=u.value;0!==d.panels.find(".mosaic-"+v.name+"-tile").length&&o()("#"+v.id).addClass("mosaic-hidden")}}catch(e){h.e(e)}finally{h.f()}d.modal.$modal.find("fieldset").each((function(){0===o()(this).children("div:not(.mosaic-hidden)").length&&o()("a[href=#fieldsetlegend-"+o()(this).attr("id").split("-")[1]+"]").addClass("mosaic-hidden")})),(t=i.children(":not(.mosaic-hidden)")).eq(0).addClass("active");var p=d.modal.$modal.find("#fieldset-"+t.eq(0).attr("href").split("-")[1]);0===p.length&&(p=d.modal.$modal.find("fieldset:not(.mosaic-hidden)").eq(0)),p.addClass("active")}else"field"===e&&(l=(a=o()("#"+n.id)).parents("fieldset"),d.modal.$modal.find("fieldset").removeClass("active"),l.addClass("active"),l.children().addClass("mosaic-hidden"),a.removeClass("mosaic-hidden"),d.modal.$modal.find("nav").addClass("mosaic-hidden"))}}])&&d(n.prototype,i),t&&d(n,t),Object.defineProperty(n,"prototype",{writable:!1}),e}()}}]);
//# sourceMappingURL=41973.f7378871999699623c90.min.js.map