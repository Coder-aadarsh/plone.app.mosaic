"use strict";(self.webpackChunkplone_mosaic=self.webpackChunkplone_mosaic||[]).push([[41973],{41973:function(e,i,o){o.r(i),o.d(i,{default:function(){return d}});var a=o(65311),t=o.n(a);function n(e,i){for(var o=0;o<i.length;o++){var a=i[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d=function(){function e(i,o){!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=i,this.panels=o}var i,o,a;return i=e,(o=[{key:"initialize",value:function(){var e=t()(".mosaic-original-content"),i=t()("form",e),o=t()("h1",e),a=t()('<div class="plone-modal-wrapper mosaic-overlay"><div class="mosaic-modal" style="position: absolute; padding: 20px;"><div class="plone-modal-dialog"><div class="plone-modal-content"><div class="plone-modal-header"><a class="plone-modal-close">Ã—</a></div><div class="plone-modal-body"></div><div class="plone-modal-footer"><div class="pattern-modal-buttons"></div></div></div></div></div></div>');t()(".pat-tinymce",i).each((function(){if(t()(this).data("pattern-tinymce"))try{t()(this).data("pattern-tinymce").destroy()}catch(e){}})),t()(".plone-modal-header",a).append("<h2>"+o.text()+"</h2>"),t()(".plone-modal-body",a).append(i),t()(document.body).append(a),this.$overlay=a,t()(".pat-tinymce",i).each((function(){if(t()(this).data("pattern-tinymce"))try{t()(this).data("pattern-tinymce").init()}catch(e){}}));try{t()(".pat-textareamimetypeselector").trigger("change")}catch(e){}e.hide(),t()(document.body).prepend(t()(document.createElement("div")).addClass("mosaic-overlay-blocker"))}},{key:"open",value:function(e,i){var o,a,n,d,l,s,c,r,m=this;if(m.$overlay.show().addClass("active"),t()(".mosaic-overlay-blocker").show(),t()("body").addClass("plone-modal-open"),o=m.$overlay.find("form"),0===t()(".mosaic-overlay-ok-button").length&&(t()(".mosaic-overlay .formControls").children("input").hide(),t()(".mosaic-overlay .pattern-modal-buttons").append(t()(document.createElement("input")).attr({type:"button",value:"Done"}).addClass("mosaic-overlay-ok-button plone-btn plone-btn-primary").on("click",(function(){m.close()}))),t()(".mosaic-overlay .plone-modal-close").off("click").on("click",(function(e){e.preventDefault(),m.close()})),t()(".mosaic-overlay .plone-modal-header h2").html("Properties")),"all"===e&&m.options.overlay_hide_fields){for((a=o.find("nav")).removeClass("mosaic-hidden"),o.find("fieldset").children().removeClass("mosaic-hidden"),o.find("fieldset").removeClass("active"),a.find("a").removeClass("active"),o.find(m.options.customContentLayout_selector).addClass("mosaic-hidden"),o.find(m.options.contentLayout_selector).addClass("mosaic-hidden"),t()(".mosaic-IDublinCore-title-tile").length>0?o.find("#formfield-form-widgets-IDublinCore-title").addClass("mosaic-hidden"):o.find("#formfield-form-widgets-IDublinCore-title").removeClass("mosaic-hidden"),t()(".mosaic-IDublinCore-description-tile").length>0?o.find("#formfield-form-widgets-IDublinCore-description").addClass("mosaic-hidden"):o.find("#formfield-form-widgets-IDublinCore-description").removeClass("mosaic-hidden"),d=0;d<m.options.tiles.length;d+=1)"fields"===m.options.tiles[d].name&&(n=m.options.tiles[d]);for(d=0;d<n.tiles.length;d+=1)s=n.tiles[d],0!==m.panels.find(".mosaic-"+s.name+"-tile").length&&t()("#"+s.id).addClass("mosaic-hidden");o.find("fieldset").each((function(){0===t()(this).children("div:not(.mosaic-hidden)").length&&t()("a[href=#fieldsetlegend-"+t()(this).attr("id").split("-")[1]+"]").addClass("mosaic-hidden")})),(l=a.children(":not(.mosaic-hidden)")).eq(0).addClass("active");var f=o.find("#fieldset-"+l.eq(0).attr("href").split("-")[1]);0===f.length&&(f=o.find("fieldset:not(.mosaic-hidden)").eq(0)),f.addClass("active")}else"field"===e&&(r=(c=t()("#"+i.id)).parents("fieldset"),o.find("fieldset").removeClass("active"),r.addClass("active"),r.children().addClass("mosaic-hidden"),c.removeClass("mosaic-hidden"),o.find("nav").addClass("mosaic-hidden"))}},{key:"close",value:function(){this.$overlay.hide().removeClass("active"),t()(".mosaic-overlay-blocker").hide(),t()("body").removeClass("plone-modal-open")}}])&&n(i.prototype,o),a&&n(i,a),Object.defineProperty(i,"prototype",{writable:!1}),e}()}}]);
//# sourceMappingURL=41973.824db802cdf781981750.min.js.map