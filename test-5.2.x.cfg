[buildout]
extends =
    https://raw.githubusercontent.com/collective/buildout.plonetest/master/test-5.2.x.cfg
    https://raw.githubusercontent.com/collective/buildout.plonetest/master/qa.cfg
    base.cfg
parts +=
    pybot
    sphinx-build
    test
    createcoverage

find-links +=
    http://dist.plone.org/release/5.2a1/

package-name = plone.app.mosaic
package-extras = [test]

test-eggs =
    Pillow
    plone.app.blocks [test]
    plone.app.drafts [test]
    plone.app.tiles [test]

auto-checkout =
    plone.subrequest
    plone.app.blocks
    plone.app.tiles
    plone.jsonserializer

[sources]
plone.app.blocks = git git://github.com/plone/plone.app.blocks.git branch=python3
plone.app.tiles = git git://github.com/plone/plone.app.tiles.git branch=python3
plone.subrequest = git git://github.com/plone/plone.subrequest.git branch=master
plone.jsonserializer = git git://github.com/plone/plone.jsonserializer.git branch=python3


[test]
recipe = zc.recipe.testrunner
defaults = ['-s', '${buildout:package-name}', '--auto-color', '--auto-progress']
eggs =
    Plone
    plone.app.upgrade
    ${buildout:package-name} ${buildout:package-extras}
    ${buildout:test-eggs}
