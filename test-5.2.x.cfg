[buildout]
extends =
    https://raw.githubusercontent.com/collective/buildout.plonetest/plone-5.2-py3/test-5.2.x.cfg
    https://raw.githubusercontent.com/collective/buildout.plonetest/master/qa.cfg
    base.cfg
parts +=
    pybot
    sphinx-build
    test
    createcoverage

find-links +=
    http://dist.plone.org/release/5.2a1/

package-name = plone.app.mosaic
package-extras = [test]

test-eggs =
    Pillow
    plone.app.blocks [test]

[sources]
plone.app.blocks = git ${remotes:plone}/plone.app.blocks.git pushurl=${remotes:plone-push}/plone.app.blocks branch=python3
plone.app.drafts = git ${remotes:plone}/plone.app.drafts.git pushurl=${remotes:plone-push}/plone.app.drafts branch=py3plone52

[test]
recipe = zc.recipe.testrunner
defaults = ['-s', '${buildout:package-name}', '--auto-color', '--auto-progress']
eggs =
    Plone
    plone.app.upgrade
    ${buildout:package-name} ${buildout:package-extras}
    ${buildout:test-eggs}
